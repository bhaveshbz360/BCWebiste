var modal=document.querySelector(".modal");var trigger=document.querySelectorAll(".trigger");var imgtrigger=document.querySelectorAll(".imgtrigger");var closeButton=document.querySelector(".close-button");function toggleModal(){modal.classList.toggle("show-modal")}
function windowOnClick(event){if(event.target===modal){toggleModal()}}
if(trigger!==null){for(let i=0;i<trigger.length;i++){trigger[i].addEventListener("click",toggleModal)}}
if(imgtrigger!==null){for(let i=0;i<imgtrigger.length;i++){imgtrigger[i].addEventListener("click",toggleModal)}}
function _triggerEbook(){toggleModal()}
closeButton.addEventListener("click",toggleModal);window.addEventListener("click",windowOnClick);const vcform=document.getElementById('vc-lead-form');const fname=document.getElementById('first_name');const emails=document.getElementById('txtEmail');const phones=document.getElementById('phone_no');const country=document.getElementById('country');function ValidationEvent(){eb_checkRequired([fname,emails,phones,country]);if((eb_vcSpaceChecker(fname.value.trim())===!0)&&(eb_vcSpaceChecker(emails.value.trim())===!0)&&(eb_vcSpaceChecker(phones.value.trim())===!0)&&(eb_vcSpaceChecker(country.value.trim())===!0)){const sre=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!sre.test(emails.value.trim())){return!1}
if(eb_checkLength(phones,8,20)===!1){return!1}
let name=document.getElementById('first_name').value;let emailid=document.getElementById('txtEmail').value;let phoneno=document.getElementById('phone_no').value;let countryname=document.getElementById('country').value;let postid=document.getElementById('postid').value;let posttitle=document.getElementById('posttitle').value;var form=document.querySelector('.orderform');var data=new FormData(form);var object={};data.forEach((value,key)=>object[key]=value);var json=JSON.stringify(object);xhr=new XMLHttpRequest();xhr.open('POST',vcObj.site_url+'/wp-admin/admin-ajax.php?action=pxl-ebook-download',!0);xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded');document.getElementById('ebook-btn').value="Please Wait...";xhr.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var response=JSON.parse(this.responseText);document.getElementById('vc-lead-form').style.display='none';document.getElementById("responce").innerHTML=response.message}};xhr.send("fname="+name+"&email="+emailid+"&phoneno="+phoneno+"&country="+countryname+"&postid="+postid+"&posttitle="+posttitle)}else{return!1}}
function eb_vcSpaceChecker(input){if(!/^[A-Za-z0-9!@#$%^&*()".,;:{}<>?\[\]\-+=' ]{1,}/.test(input)){return!1}else{return!0}}
function eb_checkRequired(inputArr){inputArr.forEach(function(input){let e=input.value.trim();if(!/^[A-Za-z0-9!@#$%^&*()".,;:{}<>?\[\]\-+=' ]{2,}/.test(e)){if(input.name=="firstName"){eb_showError(input,`Please Fill Full Name`)}else if(input.name=="phone"){eb_showError(input,`Please Fill Phone`)}else if(input.name=="email"){eb_showError(input,`Please Fill Email`)}else if(input.name=="country"){eb_showError(input,`Please Fill Country Name`)}}else{eb_checkEmail(emails);eb_checkLength(phones,8,20)}})}
function eb_showError(input,message,spDiv=!1){let formControl=input.parentElement;let small=formControl.querySelector('small.error-msg-section');if(spDiv!==!1){small=document.getElementById(spDiv)}
formControl.classList.add('ws-error');small.innerText=message}
function eb_showSucces(input,spDiv=!1){let formControl=input.parentElement;let small=formControl.querySelector('small.error-msg-section');if(spDiv!==!1){small=document.getElementById(spDiv)}
formControl.classList.remove('ws-error');small.innerText=''}
function eb_checkEmail(input){const re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(re.test(input.value.trim())){eb_showSucces(input)}else{if(input.value==''){eb_showError(input,'Please Fill Email')}else{eb_showError(input,'Email is not valid')}}}
function eb_phonenumber(inputtxt){if((/^[A-Za-z0123456789()\s.+-]+$/.test(inputtxt.value.trim())&&inputtxt.value.length>=10)){eb_showSucces(inputtxt)}else{if(inputtxt.value==''){eb_showError(inputtxt,'Please Fill Phone')}else{eb_showError(inputtxt,'Phone Number is not valid')}}}
fname.addEventListener("keyup",eb_checkUseName);fname.addEventListener("keypress",eb_checkUseName);fname.addEventListener("focusout",eb_checkUseName);country.addEventListener("keyup",checkcountry);country.addEventListener("keypress",checkcountry);country.addEventListener("keydown",checkcountry);country.addEventListener("focusout",checkcountry);phones.addEventListener("keyup",eb_checkPhone);phones.addEventListener("keypress",eb_checkPhone);phones.addEventListener("keydown",eb_ws_checkphonenumber);phones.addEventListener("focusout",eb_checkPhone);emails.addEventListener("focusout",eb_checkEmailEvent);function checkcountry(event){eb_checkLength(country,1,100)}
function eb_checkEmailEvent(event){eb_checkEmail(emails)}
function eb_checkUseName(event){eb_checkLength(fname,3,255)}
function eb_checkPhone(event){eb_checkLength(phones,8,20);eb_phonenumber(phones)}
function eb_checkLength(input,min,max){if(input.value.length<min){if(input.name=="firstName"){eb_showError(input,`Please Fill Full  Name`)}else if(input.name=="phone"){eb_showError(input,`Please Fill Phone`,"lblError_phone")}else if(input.name=="email"){eb_showError(input,`Please Fill Email`)}else if(input.name=="country"){eb_showError(input,`Please Fill Country`)}else{eb_showError(input,`This Field is required`)}
return!1}else{if(input.name=="phone"){eb_showSucces(input)}
if(input.name=="email"){eb_showSucces(input)}else{eb_showSucces(input)}
return!0}}
function eb_ws_checkphonenumber(e){let keyArray=[46,8,9,27,13,187,189,16,17];-1!==keyArray.indexOf(e.keyCode)||65==e.keyCode&&!0===e.ctrlKey||86==e.keyCode&&!0===e.ctrlKey||67==e.keyCode&&!0===e.ctrlKey||88==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}
function numbersonly(e){var unicode=e.charCode?e.charCode:e.keyCode
var lblError=document.getElementById("lblError_phone");document.querySelector('input[name=phone]').classList.remove("error-field");lblError.innerHTML="";if(unicode!=8){if(document.querySelector('input[name=phone]').value.length>9){document.querySelector('input[name=phone]').classList.add("error-field");lblError.innerHTML="Limit Reached.";return!1}
if(unicode<48||unicode>57){document.querySelector('input[name=phone]').classList.add("error-field");lblError.innerHTML="Only Numbers allowed.";return!1}}}
function ValidateName(e,errorId,fieldname){var keyCode=e.keyCode||e.which;var lblError=document.getElementById(errorId);lblError.innerHTML="";var regex=/^[a-zA-Z ]+$/;var isValid=regex.test(String.fromCharCode(keyCode));document.querySelector('input[name='+fieldname+']').classList.remove("error-field");if(!isValid){document.querySelector('input[name='+fieldname+']').classList.add("error-field");lblError.innerHTML="Only Alphabets allowed."}
return isValid}
function ValidateEmail(){var email=document.getElementById("txtEmail").value;var lblError=document.getElementById("lblError_email");lblError.innerHTML="";if(email==''){lblError.innerHTML="";return!0}
var expr=/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;if(!expr.test(email)){lblError.innerHTML="Invalid email address.";document.getElementById("txtEmail").classList.add("error-field")}else{document.getElementById("txtEmail").classList.remove("error-field")}}
function blockSpecialCountry(){var fieldname='country';var k=event.keyCode;var lblError=document.getElementById('lblError_country');var _validCheckCountry=(k>64&&k<91)||(k>96&&k<123)||k==8||k==32||(k<48&&k>57);lblError.innerHTML='';document.querySelector('input[name='+fieldname+']').classList.remove("error-field");if(!_validCheckCountry){lblError.innerHTML="Special Char and Numbers are not allowed.";document.querySelector('input[name='+fieldname+']').classList.add("error-field");return!1}}
function spaceTrimFunction(){document.querySelector('input[name=country]').value=document.querySelector('input[name=country]').value.trim();console.log("FFFFF")}